/**
 * Unicorn Admin Template
 * Diablo9983 -> diablo9983@gmail.com
**/
$(document).ready(function(){unicorn.init(),$("#add-event-submit").click(function(){unicorn.add_event()}),$("#event-name").keypress(function(e){e.which==13&&unicorn.add_event()})}),unicorn={init:function(){var e=new Date,t=e.getDate(),n=e.getMonth(),r=e.getFullYear();$("#fullcalendar").fullCalendar({header:{left:"prev,next",center:"title",right:"month,basicWeek,basicDay"},editable:!0,droppable:!0,drop:function(e,t){var n=$(this).data("eventObject"),r=$.extend({},n);r.start=e,r.allDay=t,$("#fullcalendar").fullCalendar("renderEvent",r,!0),$(this).remove()}}),this.external_events()},add_event:function(){if($("#event-name").val()!=""){var e=$("#event-name").val();$("#external-events .panel-content").append('<div class="external-event ui-draggable label label-inverse">'+e+"</div>"),this.external_events(),$("#modal-add-event").modal("hide"),$("#event-name").val("")}else this.show_error()},external_events:function(){$("#external-events div.external-event").each(function(){var e={title:$.trim($(this).text())};$(this).data("eventObject",e),$(this).draggable({zIndex:999,revert:!0,revertDuration:0})})},show_error:function(){$("#modal-error").remove(),$('<div style="border-radius: 5px; top: 70px; font-size:14px; left: 50%; margin-left: -70px; position: absolute;width: 140px; background-color: #f00; text-align: center; padding: 5px; color: #ffffff;" id="modal-error">Enter event name!</div>').appendTo("#modal-add-event .modal-body"),$("#modal-error").delay("1500").fadeOut(700,function(){$(this).remove()})}};